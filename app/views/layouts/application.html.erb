<!DOCTYPE html>
<html lang="ja">
  <head>
    <title>Myapp</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/js/all.min.js" crossorigin="anonymous"></script>

    <style>
      @import url('https://fonts.googleapis.com/css?family=Karla:400,700&display=swap');

      .font-family-karla {
        font-family: karla;
      }

      * {
        text-decoration: none !important;
      }
    </style>

    <!-- AlpineJS -->
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
  </head>

  <body class="<%= cookies[:theme] || 'black' %> bg-gray-200 font-family-karla text-black">
    
<nav class="mx-auto flex items-center flex-wrap py-6  bg-teal-500  md:flex justify-center">
  <div class="flex items-center flex-shrink-0 mr-6 text-white">
    <svg class="w-8 h-8 mr-2 fill-current" width="54" height="54" viewBox="0 0 54 54" xmlns="http://www.w3.org/2000/svg"><path d="M13.5 22.1c1.8-7.2 6.3-10.8 13.5-10.8 10.8 0 12.15 8.1 17.55 9.45 3.6.9 6.75-.45 9.45-4.05-1.8 7.2-6.3 10.8-13.5 10.8-10.8 0-12.15-8.1-17.55-9.45-3.6-.9-6.75.45-9.45 4.05zM0 38.3c1.8-7.2 6.3-10.8 13.5-10.8 10.8 0 12.15 8.1 17.55 9.45 3.6.9 6.75-.45 9.45-4.05-1.8 7.2-6.3 10.8-13.5 10.8-10.8 0-12.15-8.1-17.55-9.45-3.6-.9-6.75.45-9.45 4.05z"/></svg>
    <span class="text-xl font-semibold tracking-tight">Tailwind CSS</span>
  </div>
  <div class="block lg:hidden">
    <button class="flex items-center px-3 py-2 text-teal-200 border border-teal-400 rounded hover:text-white hover:border-white">
      <svg class="w-3 h-3 fill-current" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/></svg>
    </button>
  </div>
  <div class="flex-grow block w-full lg:flex lg:items-center lg:w-auto">
    <div class="text-sm lg:flex-grow flex justify-center space-x-6">
      <a href="#responsive-header" class="block mt-4 mr-4 text-teal-200 lg:inline-block lg:mt-0 hover:text-white">
        Docs
      </a>
      <a href="#responsive-header" class="block mt-4 mr-4 text-teal-200 lg:inline-block lg:mt-0 hover:text-white">
        Examples
      </a>
      <a href="#responsive-header" class="block mt-4 text-teal-200 lg:inline-block lg:mt-0 hover:text-white">
        Blog
      </a>
    </div>
  </div>
  <div class="lg:flex lg:items-center lg:w-auto">
    <% if user_signed_in? %>
      <%= button_to("ログアウト", destroy_user_session_path, method: :delete,
                    class: "block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white") %>
    <% else %>
      <%= button_to("ゲストログイン(閲覧用)", pages_guest_sign_in_path, method: :post,
                   class: "block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white") %>
    <% end %>

    <% if cookies[:theme] == 'dark' %>
      <%= link_to(set_theme_path(theme: 'light'), class: "text-teal-200 hover:text-white") do %>
        <i class="fa-solid fa-moon" title="ダークモード中（クリックでライトモードへ切替）"></i>
      <% end %>
    <% else %>
      <%= link_to(set_theme_path(theme: 'dark'), class: "text-teal-200 hover:text-white") do %>
        <i class="fa-solid fa-sun" title="ライトモード中（クリックでダークモードへ切替）"></i>
      <% end %>
    <% end %>
  </div>
</nav>
      
  <%= yield %>

    <footer class="w-full pb-12 bg-white border-t">
      <div
          class="relative flex items-center invisible w-full md:visible md:pb-12"
          x-data="getCarouselData()"
      >
          <%# <button
              class="absolute w-16 h-16 ml-12 text-2xl font-bold text-white bg-blue-800 rounded-full hover:bg-blue-700 hover:shadow"
              x-on:click="decrement()">
              &#8592;
          </button>
          <template x-for="image in images.slice(currentIndex, currentIndex + 6)" :key="images.indexOf(image)">
              <img class="w-1/6 hover:opacity-75" :src="image">
          </template>
          <button
              class="absolute right-0 w-16 h-16 mr-12 text-2xl font-bold text-white bg-blue-800 rounded-full hover:bg-blue-700 hover:shadow"
              x-on:click="increment()">
              &#8594;
          </button> %>
      </div>
      <div class="flex flex-col items-center w-full mx-auto">
          <div class="flex flex-col py-6 text-center md:flex-row md:text-left md:justify-between">
              <a href="#" class="px-3 uppercase">About Us</a>
              <a href="#" class="px-3 uppercase">Privacy Policy</a>
              <a href="#" class="px-3 uppercase">Terms & Conditions</a>
              <a href="#" class="px-3 uppercase">Contact Us</a>
          </div>
          <div class="pb-6 uppercase">&copy; myblog.com</div>
      </div>
  </footer>

  <script>
      function getCarouselData() {
          return {
              currentIndex: 0,
              images: [
                  // 'https://source.unsplash.com/collection/1346951/800x800?sig=1',
                  // 'https://source.unsplash.com/collection/1346951/800x800?sig=2',
                  // 'https://source.unsplash.com/collection/1346951/800x800?sig=3',
                  // 'https://source.unsplash.com/collection/1346951/800x800?sig=4',
                  // 'https://source.unsplash.com/collection/1346951/800x800?sig=5',
                  // 'https://source.unsplash.com/collection/1346951/800x800?sig=6',
                  // 'https://source.unsplash.com/collection/1346951/800x800?sig=7',
                  // 'https://source.unsplash.com/collection/1346951/800x800?sig=8',
                  // 'https://source.unsplash.com/collection/1346951/800x800?sig=9',
              ],
              increment() {
                  this.currentIndex = this.currentIndex === this.images.length - 6 ? 0 : this.currentIndex + 1;
              },
              decrement() {
                  this.currentIndex = this.currentIndex === this.images.length - 6 ? 0 : this.currentIndex - 1;
              },
          }
      }
  </script>
  </body>
</html>
